<!DOCTYPE html>
<html lang="ja" style="font-size:20px;">
<head>
	<meta charset="utf-8">
	<title>SoundTest</title>
	<meta name="description" content="">
	<script type="text/javascript" src="./app.js"></script>
	<script type="text/javascript" src="./howler.min.js"></script>
	<script type="text/javascript">
const files = [ './sound/n135.mp3', './sound/n136.mp3' ];
function TestHowler( id )
{
	var sound = null;
	var count = 0;
	document.getElementById( id + '_start' ).addEventListener( 'click', () =>
	{
		if ( !sound )
		{
			sound = new Howl( {
				src: files,
				autoplay: true,
				//loop: true,
				volume: 0.5,
				onend: function() {
					console.log('Finished!');
				},
			} );
		}
		sound.play( count );
	}, false );
	document.getElementById( id + '_stop' ).addEventListener( 'click', () =>
	{
		if ( !sound ) { return; }
		sound.stop();
	}, false );
	document.getElementById( id + '_next' ).addEventListener( 'click', () =>
	{
		if ( !sound ) { return; }
		count = (count + 1) % files.length;
		sound.stop();
		sound.play( count );
	}, false );
}
document.addEventListener( 'DOMContentLoaded', () =>
{
	TestHowler('howler');
} );
	</script>
</head>
<body>
	<section>
		<h2>howler.js</h2>
		<button id="howler_start">Start</button>
		<button id="howler_stop">Stop</button>
		<button id="howler_next">Next</button>
	</section>
</body>
</html>
